/**
 * Datashop Notification - Notificaion Service for Datashop.
 * @author Ayush Sharma
 * @version v0.0.1
 * @link 
 * @license MIT
 */
angular.module("wizard",[]).service("wizardService",["$q","$rootScope","$templateRequest","$compile","$controller",function(e,t,r,n,i){var c=function(t,n){var i=e.defer();return t?i.resolve(t):n?r(n).then(function(e){i.resolve(e)},function(e){i.reject(e)}):i.reject("No template or templateUrl has been specified."),i.promise};this.compileTemplate=function(r){var o=e.defer();return c(r.template,r.templateUrl).then(function(e){var c=(r.scope||t).$new(),s=n(e)(c);i(r.controller,{$scope:c}),o.resolve(s)})["catch"](function(e){o.reject(e)}),o.promise},this.wizardData={},this.setWizardData=function(e,t){this.wizardData[e]=t},this.removeWizardData=function(e){delete this.wizardData[e]},this.currentStep=0,this.updateStep=function(e){this.currentStep=e},this.stepIncrement=function(){this.currentStep+=1},this.stepDecrement=function(){this.currentStep-=1}}]).directive("formWizard",["wizardService",function(e){return{restrict:"E",templateUrl:"wizard-directive.html",scope:{steps:"="},transclude:{steps:"steps",controls:"controlPanel"},controller:["$scope","$element",function(t,r){return t.loadTemplate=function(t,n){e.compileTemplate(t).then(function(t){var i=angular.element(r[0].querySelector("#form-views"));i.empty(),i.append(t),e.updateStep(n)})},t.init=function(){var r=e.currentStep,n=t.steps[r];t.loadTemplate(n,r)},t}]}}]).directive("steps",["wizardService",function(e){return{restrict:"E",require:"^formWizard",templateUrl:"steps.html",link:function(t,r,n,i){t.loadTemplate=function(t,r){var n=e.currentStep;r!==n&&i.loadTemplate(t,r)}}}}]).directive("controlPanel",["wizardService",function(e){return{restrict:"E",require:"^formWizard",templateUrl:"control-panel.html",link:function(t,r,n,i){var c=i.steps.length,o=function(e){i.loadTemplate(i.steps[e],e)};t.currentIndex=function(){return e.currentStep},t.control=function(r){var n=e.currentStep;"prev"===r&&n>0&&(e.stepDecrement(),o(e.currentStep)),"next"===r&&n<c-1&&(e.stepIncrement(),o(e.currentStep)),t.currentIndex()}}}}]),angular.module("wizard").run(["$templateCache",function(e){e.put("control-panel.html",'<div class="col-xs-6 col-xs-offset-3"><a ui-sref="form.interests" class="btn btn-block btn-info" ng-click="control(\'next\')">Next Section {{currentIndex()}} <span class="glyphicon glyphicon-circle-arrow-right"></span></a></div><div class="col-xs-6 col-xs-offset-3"><a ui-sref="form.interests" class="btn btn-block btn-info" ng-click="control(\'prev\')">Prev Section {{currentIndex()}} <span class="glyphicon glyphicon-circle-arrow-right"></span></a></div>'),e.put("steps.html",'<div id="status-buttons" class="text-center"><button ng-repeat="step in steps" ng-click="loadTemplate(step, $index)"><span>{{$index}}</span> {{step.name}}</button></div>'),e.put("wizard-directive.html",'<div id="form-container" ng-init="init()"><div class="page-header text-center"><h2>Let\'s Make a Wizard</h2><div ng-transclude="steps"></div></div><form id="signup-form" ng-submit="processForm()"><div id="form-views"></div></form><div ng-transclude="controls"></div></div>')}]);